<section class="flex flex-col items-center justify-center h-auto p-4 mx-auto my-12 max-w-7xl gap-y-2">
    <h1 class="mb-8 text-4xl font-normal text-left text-gray font-amergo-bt">Super charge your work with add-ons</h1>
    <article class="flex items-center justify-between w-full h-auto px-6 py-10 bg-white rounded-md shadow-md cw">
        <div class="flex flex-col items-start justify-center flex-1 gap-y-1">
            <h2 class="text-2xl font-semibold text-left font-proxima-nova-semibold text-gray">Collaborators</h2>
            <span class="text-base font-thin text-left font-proxima-nova-light text-gray/90">Invite other users to specific projects for limited access and functionality.</span>
            <a href="" class="hidden capitalize transition-transform text-sm text-green font-proxima-nova-semibold font-semibold text-left after:content-['>'] hover:after:translate-x-5 mt-3">LEARN MORE </a>
        </div>
        <div class="flex flex-col items-center justify-center mx-10">
            <h3 class="text-4xl font-semibold text-center font-proxima-nova-semibold text-gray">Free</h3>
            <span class="hidden text-sm font-light text-left capitalize text-gray/90 font-proxima-nova-light">/MONTH</span>
        </div>
    </article>
    <article class="flex items-center justify-between w-full h-auto px-6 py-10 bg-white rounded-md shadow-md cw">
        <div class="flex flex-col items-start justify-center flex-1 gap-y-1">
            <h2 class="text-2xl font-semibold text-left font-proxima-nova-semibold text-gray">Partners</h2>
            <span class="text-base font-thin text-left font-proxima-nova-light text-gray/90">Invite other users for full account access and company management.</span>
        </div>
        <div class="flex flex-col items-center justify-center mx-10">
            <h3 class="text-4xl font-semibold text-center font-proxima-nova-semibold text-gray">$9</h3>
            <span class="text-sm font-light text-left capitalize text-gray/90 font-proxima-nova-light">/MONTH</span>
        </div>
    </article>
    <article class="flex items-center justify-between w-full h-auto px-6 py-10 bg-white rounded-md shadow-md cw">
        <div class="flex flex-col items-start justify-center flex-1 gap-y-1">
            <h2 class="text-2xl font-semibold text-left font-proxima-nova-semibold text-gray">Bonsai Tax</h2>
            <span class="text-base font-thin text-left font-proxima-nova-light text-gray/90">Track expenses, identify write-offs, and estimate quarterly taxes easily.</span>
            <a href="" class="mt-3 capitalize transition-transform text-sm text-green font-proxima-nova-semibold font-semibold text-left after:content-['>'] hover:after:translate-x-5">LEARN MORE </a>
        </div>
        <div class="flex flex-col items-center justify-center mx-10">
            <h3 class="text-4xl font-semibold text-center font-proxima-nova-semibold text-gray">$10</h3>
            <span class="text-sm font-light text-left capitalize text-gray/90 font-proxima-nova-light">/MONTH</span>
        </div>
    </article>
</section>

<script>
    import { isYearly } from '../store/billingStore';
    const change = (articles,yearly) => {
        if(yearly) {
           articles.forEach((art,index)=>{
                const h2 = art.querySelector('h2')
                const span = art.querySelectorAll('span')
                const a = art.querySelector('a')
                const h3 = art.querySelector('h3')

                if(index==0) {
                    h2.innerText = "Accounting & Tax Assistant"
                    span[0].innerText = "Manage your freelance finances and always be ready for tax season with easy-to-use accounting and tax tools."
                    span[1].classList.remove("hidden")
                    span[1].innerText = "/YEAR"
                    a?.classList.remove("hidden")
                    h3.innerText = "$100"
                } else if(index == 1) {
                    span[1].innerText = "/YEAR"
                    h3.innerText = "$90"
                } else if(index == 2){
                    h2.innerText = "Collaborators"
                    span[0].innerText = "Invite other users to specific projects for limited access and functionality."
                    span[1].classList.add("hidden")
                    a?.classList.add("hidden")
                    h3.innerText = "FREE"
                }
           })
        } else {
            articles.forEach((art,index)=>{
                const h2 = art.querySelector('h2')
                const span = art.querySelectorAll('span')
                const a = art.querySelector('a')
                const h3 = art.querySelector('h3')

                if(index==0) {
                    h2.innerText = "Collaborators"
                    span[0].innerText = "Invite other users to specific projects for limited access and functionality."
                    span[1].classList.add("hidden")
                    span[1].innerText = "/MONTH"
                    a?.classList.add("hidden")
                    h3.innerText = "FREE"
                } else if(index == 1) {
                    span[1].innerText = "/MONTH"
                    h3.innerText = "$9"
                } else if(index == 2){
                    h2.innerText = "Bonsai Tax"
                    span[0].innerText = "Track expenses, identify write-offs, and estimate quarterly taxes easily."
                    span[1].classList.remove("hidden")
                    a?.classList.remove("hidden")
                    span[1].innerText = "/MONTH"
                    h3.innerText = "$10"
                }
           })
        } 
    }
    const articles = document.querySelectorAll('.cw')
    isYearly.subscribe((yearly)=>{
        change(articles,yearly)
    })
</script>